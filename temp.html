<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="generated_content">

    </div>
    <script>
        function generateHTML(project) 
        {
            const statusColor = project["Project Status"] === "Fail" ? "red" : "green";
            const title = project["Project Status"] === "Fail" ? "failedTitle" : "passedTitle";
            const indexID = index;

            return `
            <input type="radio" name="accordion" id="cb${indexID}" />
            <section class="box">
                <label class="box-title ${title}" for="cb${indexID}">
                <table style='width:100%; padding-top:15px; padding-bottom:15px;'>
                    <tr>
                    <th style='width:10%; color:${statusColor};'>${indexID}</th>
                    <th style='width:50%; color:${statusColor};text-align:left;'>${project["Project Name"]}</th>
                    <th style='width:20%; color:${statusColor};'>${project["Project Status"]}</th>
                    <th style='width:20%; color:${statusColor};'>${new Date().toLocaleDateString()}</th>
                    </tr>
                </table>
                </label>
                <label class="box-close" for="acc-close"></label>
                <div class="box-content">
                <table class='stepsTable'>
                    <tbody>
                    <tr>
                        <a href="${project["ProjectSummaryLink"]}">Summary Page</a>
                        <p>${project["Project Summary"].replace(/\n|\\n/g, '<br>')}</p>
                    </tr>
                    </tbody>
                </table>
                </div>
            </section>`;
        }
        document.getElementById("generateHTML").innerHTML += generateHTML(project);
    </script>
</body>
</html>